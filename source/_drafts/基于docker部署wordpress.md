---
title: 基于docker部署wordpress
date: 2019-02-18 23:53:00
tags: [wordpress,docker,docker-compose]
categories: build-blog
---
**2019年初**，想自己搭建一个博客平台，撰写一些自己的心得总结，方案基本没有犹豫，近几年WordPress已经独树一帜，在网站建设方面可谓独领风骚，深受站长的喜爱，国内的不少知名网站均基于WordPress来构建，因此也计划基于WordPress来建建设一个博客平台。

&emsp;&emsp;但是在具体操作时却泛起了多种思路，最基本的基于LAMP环境来建设，当然是最为通用的方式了。但是考虑到除LXC已经有一段时间了，何不趁此机会基于容器来实践一把呢？一方面此方案确实有其优越性，在部署、维护方面有其独特的优越性；另一方面可以借此机会实践一下容器的编排技术。

&emsp;&emsp;首先给大家介绍一下背景，稍微阐述一下我苦逼的折腾过程。家中有一台自己DIY的一台黑群晖NAS服务器 ，本来群晖直接安装在物理机上，但在一次升级时不小心把系统给升死了（黑的就是不招人待见啊，可黑有黑的乐趣……），由于群晖没接显示器，再次重装又少不了一番折腾，而且还担心数据丢失。一气之下，在服务器上装了一个Win10系统，安装VMWare虚拟机，然后通过虚拟器安装群晖DSM，如此一来，所有数据可以都存放到虚拟磁盘中，备份速度要快很多，但这样会牺牲一定的访问速度，不过最终结果还算差强人意，局域网内10多M的速度还是有保障的。此乃硬件背景。

&emsp;&emsp;在上述硬件条件下，软件方面就面临多种选择，可以考虑直接在群晖虚拟机上折腾，还可以再起一个虚拟机来搭建，我能想到切实可行的至少有如下四种方案：
- 基于虚拟机中群晖自带的WordPress插件来搭建
- 基于虚拟机中群晖的Docker插件来搭建
- 新建一虚拟机，安装一linux系统，搭建LAMP环境来搭建
- 新建一虚拟机，基于Docker在搭建

&emsp;&emsp;最终我选择了最后一种，不想再折腾我的NAS服务器了，最重要的原因是考虑到数据的重要性，一旦把数据折腾丢了亏大了。另外群晖应该是基于Debian的系统，但已经被官方折腾的面目全非了，不再具备开源系统的通用性，软件安装和配置方面已不合常规，这种折腾还是能省就省吧。

&emsp;&emsp;新建虚拟机基于CentOS系统，此处不再赘述此系统在服务器领域的地位和配置方式，默认为观看此篇博客的人都具备虚拟机的安装以及基本的Linux系统配置基础。




